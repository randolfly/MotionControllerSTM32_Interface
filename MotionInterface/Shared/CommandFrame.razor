@using MotionInterface.Lib.Model
@using MotionInterface.Lib.Util

<MListItem>
    <MContainer>
        <MRow>
            <MCol Cols="6" Style="display: flex; justify-content: flex-start; align-self: center">
                <MChip Label Outlined>
                    @ProtocolFrame.Command
                </MChip>
            </MCol>
            <MCol>
                <MCard>
                    <PBlockText Primary="@ParamDataString"
                                Secondary="@ProtocolFrame.DateTime">
                                @* Tags="@tags"> *@
                    </PBlockText>
                    
                </MCard>
            </MCol>
        </MRow>
    </MContainer>

</MListItem>

@code {
    [Parameter] 
    public ProtocolFrame ProtocolFrame { get; set; } = new();

    private string ParamDataString
    {
        get
        {
            if (ProtocolFrame.Command == ProtocolCommand.SendStateIdCmd)
            {
                return ProtocolFrame.ParamData.ByteArrayToNameString();
            }
            else
            {
                return ProtocolFrame.ParamData.ByteArrayToFloatString();
            }
        }
    }
    
    //todo: some tag functionalities reserved...
    static IEnumerable<BlockTextTag> tags = new List<BlockTextTag>()
    {
        new("Blazor", "green", "white"),
        new("Material Design", "purple", true)
    };
}