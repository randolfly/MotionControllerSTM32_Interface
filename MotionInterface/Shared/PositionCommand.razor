@using MotionInterface.Lib.Service
@inject CommandCommunicationService CommandCommunicationService

<MCard>
    <MRow>
        <MCol Cols="4">
            <MTextField Type="number" TValue="float" Label="Position Command"
                        @bind-Value="TargetPosition">
            </MTextField>
        </MCol>
        <MCol Cols="4">
            <MButton OnClick="()=>SetPosition(TargetPosition)">
                Set Position
            </MButton>
        </MCol>
        @* <MCol Cols="4"> *@
        @*     <MButton OnClick="()=>SetPosition(0)"> *@
        @*         Stop Motor *@
        @*     </MButton> *@
        @* </MCol> *@
    </MRow>
</MCard>

@code {

    public float TargetPosition { get; set; } = 0;

    private void SetPosition(float targetPosition)
    {
        CommandCommunicationService.SetSymbolValue("target_pos", targetPosition);
    }
}